<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />

    <title>Dashboard | DriveWorks</title>
    <link rel="icon" href="favicon.ico" />

    <link rel="stylesheet" href="css/dashboard.css" />

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700&display=swap" rel="stylesheet">

</head>

<body>

    <main class="dashboard-wrapper">

        <header class="dashboard-header">

            <h1 class="page-title">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 260 310">
                    <path fill="#173682" d="M0 0v200h56v-94h144V0z"/>
                    <path fill="#CE1D38" d="M60 110h200v200H60z"/>
                    <path fill="#FFF" d="M113.5 188.8h-.1l-7.6-50.4h-7.9l-7.6 50.4h-.1L82 138.4h-6.5L86.1 200h8l7.7-49.9h.1l7.4 49.9h8l11-61.6h-6.6zM143.7 152.6c-5 0-8.6 2-11 6-2.3 4-3.5 10.1-3.5 18.3 0 8.3 1.2 14.5 3.6 18.4 2.4 3.9 6 5.9 10.9 5.9 9.7 0 14.5-8.1 14.5-24.3 0-8.3-1.2-14.5-3.6-18.4-2.4-3.9-6.1-5.9-10.9-5.9zm5.9 38.5c-1.3 2.9-3.3 4.4-6.1 4.4-2.7 0-4.7-1.5-5.9-4.6s-1.8-7.7-1.8-14c0-6.6.6-11.3 1.9-14.2 1.3-2.9 3.2-4.4 5.8-4.4 2.7 0 4.7 1.4 6 4.2s2 7.6 2 14.4c0 6.5-.6 11.2-1.9 14.2zM170.1 160.7h-.2v-6.9h-6.3V200h6.3v-29.4c.1-3 .9-5.5 2.6-7.6 1.6-2.1 3.5-3.1 5.7-3.1 1.2 0 2.3.1 3.3.3v-7.1c-.7-.3-1.6-.5-2.8-.5-3.7 0-6.6 2.7-8.6 8.1zM213.3 153.8h-7.4l-14.1 21.3h-.2v-36.7h-6.3V200h6.3v-15.7l5.2-7.2L208 200h7.3L201 171.2zM240.2 178.2c-1.5-2-4.9-3.8-9.9-5.3-2.4-.8-4.3-1.8-5.5-2.9-1.3-1.1-1.9-2.6-1.9-4.6.1-4.7 2.2-7.1 6.5-7.1 2.2 0 3.7.7 4.6 2.1.8 1.4 1.3 3.7 1.3 6.9h6.3v-.5c0-4.9-1-8.5-3-10.8-1.9-2.3-5-3.4-9.2-3.4-3.9 0-7 1.1-9.3 3.4-2.3 2.2-3.5 5.4-3.5 9.5 0 2 .3 3.8.9 5.6.5 1.8 1.5 3.2 3 4.4 1.4 1.2 4.1 2.5 8 3.8 2.9 1 5 2.2 6.1 3.5s1.7 3 1.7 5.1c-.1 2.6-.7 4.5-2 5.8s-2.9 1.9-4.8 1.9c-2.4 0-4.2-.8-5.5-2.5s-1.9-4.5-1.9-8.2h-6.3v.5c0 10.6 4.6 15.9 13.7 15.9 4.1-.1 7.3-1.4 9.6-3.9s3.5-6.1 3.5-10.6c0-3.7-.8-6.6-2.4-8.6z"/>
                    <path fill="#FFF" d="M42.8 23.1H23.9v61.6h17.6c4.8 0 8.6-1 11.3-3s4.6-5.1 5.8-9.3c1.1-4.2 1.7-11 1.7-20.3 0-10.5-1.4-18-4.1-22.4-2.7-4.4-7.2-6.6-13.4-6.6zm4.5 41.5c-.4 2.9-.9 5.1-1.6 6.5-.8 1.4-1.7 2.2-2.8 2.5s-2.5.4-4 .4h-2.3V33.9h3.2c2.4 0 4.2.5 5.2 1.5s1.8 2.7 2.2 5.1c.4 2.3.6 6.3.6 11.9 0 5.2-.2 9.3-.5 12.2zM77.8 44.6h-.1V38H66v46.7h12.1v-26c0-3.3.7-5.6 2.1-6.9 1.4-1.3 3.2-2 5.5-2 1.6 0 2.9.1 3.8.3V37c-.4-.1-1.1-.2-1.9-.2-4.5.1-7.7 2.6-9.8 7.8zM93.4 38h12.2v46.7H93.4zM93.4 22.4h12.2v10.7H93.4zM126.8 72.4h-.1L122 38h-12.7l10 46.7h14.4l10-46.7h-12.1zM177.8 63.6V62c0-6.9-.5-12.1-1.5-15.4-1.1-3.3-2.8-5.8-5.1-7.4-2.3-1.6-5.5-2.4-9.5-2.4-5.6 0-9.7 1.8-12.3 5.4-2.7 3.6-4.1 9.5-4.1 17.5 0 7.3.5 12.7 1.6 16s2.8 5.9 5.2 7.6 5.6 2.6 9.7 2.6c10.3 0 15.5-5.8 15.8-17.2h-11.3c-.2 3.1-.6 5.3-1.2 6.6-.7 1.3-1.8 1.9-3.3 1.9-1.6 0-2.7-.8-3.4-2.3-.8-1.5-1.1-4.2-1.1-8.2v-3.1h20.5zM157.3 55c0-3.4.4-5.8 1-7.3s1.8-2.2 3.6-2.2c1.6 0 2.7.8 3.3 2.4.6 1.6.9 4 .9 7.2v.5h-8.8V55z"/>
                </svg>
                <span>Live Dashboard</span>
            </h1>

            <div class="version-number">

                <div class="source-url">
                    Source: <span id="source-url"></span>
                </div>

                DriveWorks Version: <span id="version-number">---</span>

            </div>

        </header>

        <section class="dashboard-content">

            <!-- Data Card -->
            <div id="data-card" class="data-card section-card">

                <!-- Donut Charts -->
                <div class="stat-charts">

                    <div class="chart-block">
                        <div id="centralized-sessions-chart" class="donut-chart">
                            <svg viewBox="0 0 20 20" style="overflow: visible;">
                                <circle class="ring" r="10" cx="10" cy="10" />
                                <circle class="center" r="7.5" cx="10" cy="10" />
                            </svg>
                            <div class="chart-value"></div>
                        </div>
                        <div class="title">Centralized Sessions</div>
                    </div>

                    <div class="chart-block">
                        <div id="ondemand-sessions-chart" class="donut-chart">
                            <svg viewBox="0 0 20 20" style="overflow: visible;">
                                <circle class="ring" r="10" cx="10" cy="10" fill="#ddd" />
                                <circle class="center" r="7.5" cx="10" cy="10" fill="#fff" />
                            </svg>
                            <div class="chart-value"></div>
                        </div>
                        <div class="title">OnDemand Sessions</div>
                    </div>

                    <div class="chart-block">
                        <div id="active-sessions-chart" class="donut-chart">
                            <svg viewBox="0 0 20 20" style="overflow: visible;">
                                <circle class="ring" r="10" cx="10" cy="10" fill="#ddd" />
                                <circle class="center" r="7.5" cx="10" cy="10" fill="#fff" />
                            </svg>
                            <div class="chart-value"></div>
                        </div>
                        <div class="title">Total Sessions</div>
                    </div>

                </div>

                <div class="divider">
                    <hr />
                </div>

                <!-- Stats -->
                <div class="stat-grid">

                    <div class="stat-item">
                        Centralized Entitlement
                        <div id="total-users-limit" class="value">---</div>
                    </div>

                    <div class="stat-item">
                        OnDemand Entitlement
                        <div id="ondemand-sessions-limit" class="value">---</div>
                    </div>

                    <div class="stat-item">
                        Total Entitlement
                        <div id="total-sessions-limit" class="value">---</div>
                    </div>

                    <div class="stat-item">
                        Peak Sessions
                        <div id="peak-sessions-total" class="value">---</div>
                    </div>

                    <div class="stat-item">
                        Newest Session
                        <div id="newest-session" class="value value-small">---</div>
                    </div>

                    <div class="stat-item">
                        Oldest Session
                        <div id="oldest-session" class="value value-small">---</div>
                    </div>

                    <div class="stat-item">
                        Projects
                        <div id="projects-total" class="value">---</div>
                    </div>

                    <div class="stat-item">
                        Specifications
                        <div id="specifications-total" class="value">---</div>
                        <div id="specifications-queued" class="subtitle">---</div>
                    </div>

                    <div class="stat-item">
                        Documents
                        <div id="documents-total" class="value">---</div>
                        <div id="documents-queued" class="subtitle">---</div>
                    </div>

                </div>

            </div>

            <!-- Sessions Card -->
            <div id="sessions-card" class="sessions-card section-card">

                <div id="sessions-table" class="sessions-table is-hidden">
                    <table>
                        <thead>
                            <tr>
                                <th>Server Name</th>
                                <th>Country</th>
                                <th>User Address</th>
                                <th>Session Started</th>
                                <th>Browser</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div id="sessions-empty" class="sessions-empty">
                    <div class="inner">
                        <svg viewBox="0 0 576 512">
                            <path fill="currentColor" d="M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"/>
                        </svg>
                        No active sessions
                    </div>
                </div>

            </div>

        </section>

    </main>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="js/core.js"></script>
    <script src="js/status.js"></script>
    <script src="js/info.js"></script>
    <script src="js/sessions.js"></script>
    <script src="js/web-api.js"></script>

    <!-- Option A) Directly load Client Library -->
    <!-- <script src="https://YOUR-DRIVEWORKS-LIVE-SERVER-URL.COM/DriveworksLiveIntegrationClient.min.js" onload="dwClientLoaded()"></script> -->

    <!-- Option B) Inject Client Library dynamically from server url in config file -->
    <script>
        (function(doc, script) {
            script = doc.createElement("script");
            script.src = config.serverUrl + "/DriveWorksLiveIntegrationClient.min.js";
            script.onload = () => dwClientLoaded(); // Custom local function run when client has loaded
            doc.body.appendChild(script);
        }(document));
    </script>

</body>
</html>
